* {
    box-sizing: border-box;
}

/* reset CSS */
table {
    font-size: 100%;
}

/* end reset CSS */

/* Base body font and sizes are unified in typography.css */

.navbar-brand {
    font-family: "Palatino Linotype", "Book Antiqua", Palatino, Helvetica, STKaiti, SimSun, serif;
    font-size: 100%;
}

.title {
    cursor: pointer;
    padding: 15px 20px;
}

.title a {
    display: block; /* make entire row clickable */
    text-decoration: none; /* reduce visual noise on list */
    white-space: nowrap; /* guide: single-line scan */
    overflow: hidden;
    text-overflow: ellipsis;
}

/* Hover background in light theme only */
@media (prefers-color-scheme: light) {
    li.title:hover {
        background-color: #f6f9ff; /* soft light-blue hover like original */
        box-shadow: none;
    }
}
html[data-theme="light"] li.title:hover,
body[data-theme="light"] li.title:hover {
    background-color: #f6f9ff; /* ensure manual light theme matches */
}

/* Larger hit area + keyboard focus for accessibility */
/* Desktop: three-column grid → [date | title | count] */
li.list-group-item.title {
    position: relative;
    display: grid;
    /* columns: [date] [title] [word-count] [tags] */
    grid-template-columns: 10ch 1fr auto auto; /* allow both meta blocks on the right */
    column-gap: 16px;
    align-items: center;
}
/* Suppress mouse-only focus ring; keep keyboard ring only */
ul.list-group li.title a:focus:not(:focus-visible) { outline: none; }
ul.list-group li.title a:focus-visible {
    outline: 2px solid var(--link-hover);
    outline-offset: 2px;
    border-radius: 8px;
}

/* Keep titles clean: no underline even on hover/focus */
ul.list-group li.title a:hover,
ul.list-group li.title a:focus {
    text-decoration: none;
}

.panel {
    border-radius: 0;
    font-size: 100%;
}

.panel-default>.panel-heading {
    background-image: none;
    background-color: #fff;
    font-size: 100%;
}

.navbar-default {
    background-image: none;
    background-color: #fff;
    box-shadow: none;
    font-size: 100%;
}

/* restrained glassmorphism active state for navbar */
.navbar-default .navbar-nav > .active > a,
.navbar-default .navbar-nav > .active > a:focus,
.navbar-default .navbar-nav > .active > a:hover {
    color: var(--link-color);
    background: rgba(255, 255, 255, 0.36); /* slightly lower opacity */
    border: 1px solid rgba(148, 163, 184, 0.26); /* softer border */
    -webkit-backdrop-filter: saturate(140%) blur(6px);
    backdrop-filter: saturate(140%) blur(6px); /* reduce blur to 6px */
    box-shadow: 0 1px 6px rgba(30, 41, 59, 0.05); /* drop heavy outer shadow */
    border-radius: 12px;
    text-decoration: none;
}

/* hover for other items stays clean */
.navbar-default .navbar-nav > li > a:hover {
        background-color: rgba(0, 0, 0, 0.02);
        color: var(--link-hover);
        border-radius: 10px;
}

/* Suppress mouse-only focus ring on navbar items */
.navbar-default .navbar-nav > li > a:focus:not(:focus-visible) { outline: none; }
.navbar-default .navbar-nav > li > a:focus-visible {
    outline: 2px solid var(--link-hover);
    outline-offset: 2px;
    border-radius: 10px;
}

/* reduced transparency preference */
@media (prefers-reduced-transparency: reduce) {
    .navbar-default .navbar-nav > .active > a,
    .navbar-default .navbar-nav > .active > a:focus,
    .navbar-default .navbar-nav > .active > a:hover {
        -webkit-backdrop-filter: none;
        backdrop-filter: none;
        background: #f2f5f9;
        border-color: #e5eaf0;
        box-shadow: none;
    }
}

/* Navigation: refine base typography */
.navbar-brand,
.navbar-nav {
    font-size: 20px; /* desktop base size; was 24px */
}

.navbar-nav.navbar-right:last-child {
    margin-right: -15px;
}

div.outer {
    margin: 7% 10% 4% 10%;
}

.list-group {
    box-shadow: 0 0px 0px rgba(0, 0, 0, 0);
}

.list-group-item {
    transition: background-color 0.25s ease, box-shadow 0.25s ease, border-color 0.25s ease;
    padding-top: 16px; /* baseline breathing room */
    padding-bottom: 16px;
    border-color: var(--color-hr);
}

/* Constrain list width for better readability on ultra-wide screens */
ul.list-group {
    max-width: 1080px;
    margin-left: auto;
    margin-right: auto;
    padding-left: 16px;  /* gentle side breathing space */
    padding-right: 16px;
}

/* Light theme: make the whole list container white (flat, no shadow) */
@media (prefers-color-scheme: light) {
    ul.list-group {
        background: var(--surface-1);
        border-radius: 12px;
        border: 1px solid var(--border-color-subtle); /* define gentle container edge */
        padding-top: 12px;
        padding-bottom: 12px;
        padding-left: 24px;  /* wider side air for desktop */
        padding-right: 24px;
    }
}
html[data-theme="light"] ul.list-group,
body[data-theme="light"] ul.list-group {
    background: var(--surface-1);
    border-radius: 12px;
    border: 1px solid var(--border-color-subtle);
    padding-top: 12px;
    padding-bottom: 12px;
    padding-left: 24px;
    padding-right: 24px;
}

.list-group-item:last-child {
    border-bottom-color: transparent; /* avoid trailing line */
}

/* Home list: use explicit separators instead of Bootstrap's stacked borders
   to avoid occasional missing bottom border on the first item */
/* Quiet list (no persistent separators): keep items clean and rely on hover/focus cues */
/* Hairline bottom separator via background gradient (crisper than borders on HiDPI)
   Also define zebra colors for better contrast against page tint (light theme) */
ul.list-group { --row-separator: rgba(0,0,0,0.08); }
ul.list-group > li.list-group-item.title {
    border: 0; /* reset Bootstrap's borders */
    margin-bottom: 0; /* neutralize stacked overlap */
    background-image: linear-gradient(to bottom, transparent calc(100% - 1px), var(--row-separator, var(--color-hr)) 0);
    background-size: 100% 100%;
    background-repeat: no-repeat;
}
ul.list-group > li.list-group-item.title:last-child { background-image: none; }

/* Zebra stripes disabled (light): keep rows transparent, rely on separators and hover */
ul.list-group > li.list-group-item.title:nth-child(odd),
ul.list-group > li.list-group-item.title:nth-child(even) { background-color: transparent; }

div.date {
    font-size: 80%;
    color: var(--text-muted); /* unified secondary tone */
    margin-bottom: 2px; /* tuck date closer to title to form a visual unit */
    font-variant-numeric: tabular-nums; /* ensure perfect column alignment */
}

/* Title grows to fill space; word-count aligns right (grid auto placement puts it in column 2) */
div.word-count {
    margin-left: 12px;
    color: var(--text-muted);
    min-width: 60px;
    font-size: 85%;
    line-height: 1; /* avoid optical offset */
    font-variant-numeric: tabular-nums; /* align digits vertically */
    letter-spacing: 0.01em;
    text-align: right;
}

@media screen and (max-width: 860px) {
    /* Define shared mobile navbar height at root so all elements (including body) can read it */
    :root { --mobile-navbar-height: 44px; }
    /* Keep navbar fixed on phones as well */
    .navbar-fixed-top { position: fixed; top: 0; left: 0; right: 0; z-index: 1030; }
    /* Keep navbar expanded on phones: hide hamburger; use flex to stay on one line */
    .navbar-toggle { display: none !important; }
    .navbar .container-fluid { display: flex; align-items: center; flex-wrap: nowrap; position: relative; }
    .navbar-header { flex: 0 0 auto; }
    .navbar-collapse.collapse { display: flex !important; height: auto !important; overflow: visible !important; flex: 1 1 auto; }
    .navbar-nav { display: flex; flex-wrap: nowrap; margin-left: auto; float: none !important; }
    .navbar-nav.navbar-right { margin-right: 0; }
    .navbar-nav > li { float: none; }
    /* Mobile: stack date above title, hide count (kept below) */
    li.list-group-item.title {
        grid-template-columns: 1fr;
        row-gap: 4px;
        column-gap: 0;
        align-items: start;
    }

    /* Mobile gutters: container controls the side insets, rows have zero side padding */
    ul.list-group { padding-left: 12px !important; padding-right: 12px !important; padding-top: 8px !important; padding-bottom: 8px !important; }
    li.list-group-item.title { padding-left: 0; padding-right: 0; }

    /* Ensure date and title align to container gutters */
    ul.list-group div.date { padding-left: 0; padding-right: 0; }

    /* Make the main container full-width with comfortable padding on phones */
    div.inner,
    div.inner-narrow {
        margin: 0;
        padding: 1% 2% 2% 2%;
        /* Mobile: keep white content surface without the border */
        border: 0;
        background: var(--surface-1);
        box-shadow: none;
    }
    /* Mobile: remove inner content box border */
    div.inner .box { border: 0; }

    /* Mobile nav: normalize height (no taller than desktop) */
    /* Increase specificity to override legacy body.mobile sizes */
    /* Use a fixed mobile navbar height and center contents vertically */
    .navbar { height: var(--mobile-navbar-height); min-height: var(--mobile-navbar-height); padding-top: env(safe-area-inset-top); padding-bottom: 0; }
    .navbar .container-fluid { height: var(--mobile-navbar-height); }
    .navbar-brand,
    .navbar-nav { font-size: 17px; }
    .navbar-brand { height: var(--mobile-navbar-height); line-height: var(--mobile-navbar-height); padding-top: 0; padding-bottom: 0; }
    .navbar-nav>li>a { height: var(--mobile-navbar-height); line-height: var(--mobile-navbar-height); padding-top: 0; padding-bottom: 0; }

    /* Note: horizontal alignment remains default; only vertical centering adjusted */

    /* Offset page content for fixed navbar on phones */
    body { padding-top: calc(var(--mobile-navbar-height) + env(safe-area-inset-top) + 12px); }
    /* Reduce top gap and increase side gutters on phones (content margins remain) */
    div.outer { margin: 6px 3% 16px 3%; }

    div.word-count {
        display: none;
    }

    ul.tags {
        display: none;
    }

    /* Touch targets: keep ≥ 44px row height; add slight horizontal padding for visual air */
    .list-group-item { padding-top: 8px; padding-bottom: 8px; padding-left: 2px; padding-right: 2px; }

    /* Let titles wrap to two lines on mobile */
    ul.list-group li.title a {
        white-space: normal;            /* allow wrapping */
        overflow: hidden;               /* keep tidy */
        text-overflow: ellipsis;        /* still ellipsize if exceeding clamp */
        display: -webkit-box;           /* multiline clamp */
        -webkit-line-clamp: 2;          /* show up to 2 lines on mobile */
        line-clamp: 2;                  /* standard property for newer engines */
        -webkit-box-orient: vertical;
    }
}
/* Extra-narrow phones: modestly smaller nav text */
@media screen and (max-width: 360px) {
    .navbar { min-height: 40px; }
    .navbar-brand,
    .navbar-nav { font-size: 16px; }
    .navbar-brand { line-height: 26px; padding-top: 6px; padding-bottom: 6px; }
    .navbar-nav>li>a { line-height: 26px; padding-top: 6px; padding-bottom: 6px; }
}

/* Extra-narrow phones: shave another 2px while keeping ≥44px touch height */
@media screen and (max-width: 360px) {
    /* Extra-narrow phones: slightly larger gutters for balance */
    ul.list-group { padding-left: 14px; padding-right: 14px; }
    li.list-group-item.title { padding-left: 0; padding-right: 0; }
}

ul.tags {
    list-style-type: none;
    padding: 0;
    margin: 0;
    list-style: none;
    font-size: 85%;
    float: right;
    line-height: 100%;
    margin-right: 30px;
}

ul.tags li:not(:last-child) {
    margin-right: 10px;
}

ul.tags li {
    display: inline-block;
    margin-left: 0;
}

ul.tags li span {
    color: var(--text-muted);
}

ul.tags li a {
    color: #77b3e0;
    text-decoration: none;
}

ul.tags li a:hover {
    color: #559bce;
}

/* In article rows, place tags in the right grid column instead of floating */
ul.list-group li.list-group-item.title ul.tags {
    float: none;              /* cancel global float */
    margin: 0 0 0 12px;       /* space from title */
    align-self: center;       /* vertical align */
    justify-self: end;        /* push to the right column */
    display: flex;            /* place tags on a single line */
    flex-wrap: wrap;
    gap: 0 8px;
}
ul.list-group li.list-group-item.title ul.tags li span { color: darkgray; }



/************************ home inner (all)***************************/

/* reset CSS */
div.inner table {
    font-size: 100%;
}

/* end reset CSS */

div.inner {
    font-family: "lucida grande", "lucida sans unicode", lucida, helvetica, "Hiragino Sans GB", "Microsoft YaHei", "WenQuanYi Micro Hei", sans-serif;
    /* Use design token for base font size to keep typography centralized */
    font-size: var(--font-size-base);
}

div.inner {
    padding: 2% 8% 4% 8%;
    border: 1px solid var(--color-hr); /* adapt to dark mode via variable */
    margin: 7% 14% 4% 14%;
    background: var(--surface-1);
}

div.inner p,
div.inner li {
    line-height: 1.8;
}

div.inner H1 {
    font-family: "Palatino Linotype", "Book Antiqua", Palatino, Helvetica, STKaiti, SimSun, serif;
    line-height: 1.0;
    color: #666666;
    text-align: center;
}

div.inner h2 {
    font-family: "Palatino Linotype", "Book Antiqua", Palatino, Helvetica, STKaiti, SimSun, serif;
    margin-bottom: 40px;
    padding: 5px;
    /* Remove legacy full-width border to avoid double underline with typography.css */
    border-bottom: none;
    width: 98%;
    line-height: 150%;
    color: var(--heading-color);
}

div.inner h3 {
    font-family: "Palatino Linotype", "Book Antiqua", Palatino, Helvetica, STKaiti, SimSun, serif;
    margin-top: 40px;
    margin-bottom: 30px;
    /* Remove legacy border-bottom to avoid duplicate underline */
    border-bottom: none;
    width: 98%;
    line-height: 150%;
    color: var(--heading-color);
    font-size: 1.17em;
}

div.inner h4 {
    font-family: "Palatino Linotype", "Book Antiqua", Palatino, Helvetica, STKaiti, SimSun, serif;
    margin-top: 40px;
    margin-bottom: 30px;
    border-bottom: none;
    width: 98%;
    line-height: 150%;
    color: var(--heading-color);
}

div.inner .time {
    text-align: center;
    line-height: 1.0;
    font-size: 90%;
    margin-bottom: 20px;
}

div.inner .box {
    padding: 2% 8% 5% 8%;
    border: 1px solid var(--color-hr);
}

div.inner li {
    margin-left: 10px;
}

div.inner blockquote {
    border-left: 4px solid var(--color-quote-border);
    padding-left: 15px;
    margin-left: 20px;
    background: var(--color-quote-bg);
}

div.inner pre {
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Noto Sans Mono CJK SC", "Source Han Mono SC", monospace;
    font-size: 0.92em; /* align with global tightening */
    background-color: var(--color-code-bg);
    border: 1px solid var(--color-code-border);
    border-radius: 6px;
    padding: 8px 10px; /* align with global tightening */
    line-height: 1.5;
}

div.inner .hljs { background-color: transparent; }

div.inner p code {
    font-size: 0.9em;
    background-color: var(--color-code-bg);
    border: 1px solid var(--color-code-border);
    border-radius: 3px;
    padding: 0 0.25em;
    margin: 0 0.15em;
}

div.inner li code {
    font-size: 90%;
    background-color: #f4f4f4;
    border: 1px solid #E0E0E0;
    border-radius: 2px;
    padding: 0 3px;
    margin: 0 3px;
}

div.inner a {
    /* Align with global link styling from typography.css */
    color: var(--link-color);
    text-decoration: underline;
    text-decoration-color: currentColor;
    text-underline-offset: 0.15em;
    text-decoration-thickness: 0.08em;
    border-bottom: 0; /* remove legacy dashed underline */
    cursor: pointer; /* remove crosshair */
}

div.inner a:hover {
    background-color: transparent; /* no background tint on hover */
}

div.inner img {
    display: block;
    box-shadow: 0 1px 4px rgba(0,0,0,0.08); /* soften legacy heavy shadow */
    border-radius: 6px;
    margin-left: auto;
    margin-right: auto;
    margin-top: 10px;
    margin-bottom: 10px;
    max-width: 100%;
}

div.inner img.displayed {
    text-align: center;
    display: block;
}

@media only screen and (max-width: 800px) {
    div.inner img {
        width: 100%;
        margin-left: 0% !important;
        margin-right: 0% !important;
    }
}

div.inner hr {
    border: none;
    border-top: 1px solid var(--color-hr);
}

div.inner p.notice {
    color: #AA4433;
    font-size: 14px;
}

div.inner-narrow {
    margin: 0% 7%;
    padding: 2% 8% 4% 8%;
    border: 1px solid var(--color-hr);
}

div.inner div.ad-banner {
    margin: 0% 14%;
}

div.inner .left {
    float: left;
    clear: both;
    width: 50%;
    padding: 25 24 25 0;
    border-top: 1px solid lightblue;
}

div.inner .right {
    float: left;
    clear: none;
    width: 50%;
    padding: 25 0 25 24;
    border-top: 1px solid lightblue;
}

div.inner .row:after {
    content: "";
    display: table;
    clear: both;
}

div.inner .row {
    clear: both;
}

div.inner .align-right {
    text-align: right;
}

/* tag page */
div.inner .tag-list-count {
    margin-left: 10px;
}

/* image no shadow */
div.inner .no-shadow {
    box-shadow: 0 0 0px #fff;
}


/* table style */

div.inner table {
    display: block;
    width: 100%;
    overflow: auto;
    border-spacing: 0;
    border-collapse: collapse;
}

div.inner table tr {
    background-color: #fff;
    border-top: 1px solid #c6cbd1;
}

div.inner table th {
    text-align: center;
}

div.inner table th,
div.inner table td {
    padding: 6px 13px;
    border: 1px solid #dfe2e5;
}


/* subtitle description */
div.inner sd {
    font-size: 75%;
    color: #0006;
}

div.inner sd:hover {
    color: #000f;
}

div.inner sdr {
    font-size: 75%;
    color: #0006;
    line-height: 1.8;
    float: right;
    margin-left: 15px;
}

div.inner sdr:hover {
    color: #000f;
}

div.inner sd-time {
    font-size: 75%;
    display: block;
    line-height: 3;
    color: #0006;
}

div.inner sd-time:hover {
    color: #000f;
}

div.inner .textAlignRight {
    text-align: right;
}

/* color */
div.inner red {
    color: red;
}

div.inner blue {
    color: blue;
}

div.inner dogerblue {
    color: dodgerblue;
}

div.inner slategray {
    color: slategray;
}

div.inner green {
    color: green;
}

div.inner mediumseagreen {
    color: mediumseagreen;
}

div.inner tomato {
    color: tomato;
}

div.inner ul.tags {
    list-style-type: none;
    padding: 0;
    margin: 0;
    list-style: none;
    text-align: center;
    font-size: 90%;
    margin-bottom: 20px;
}

div.inner ul.tags li {
    display: inline-block;
    margin-left: 0;
}

div.inner ul.tags li:not(:last-child) {
    margin-right: 10px;
}

div.inner div.title-margin {
    margin-bottom: 40px;
}

/* ------------------------------ */
/* Dark mode: homepage overrides  */
/* ------------------------------ */
@media (prefers-color-scheme: dark) {
    .navbar-default {
        background-color: #1a1f26;
        box-shadow: none;
        border-color: #2a2f37; /* soften separator to avoid stark white line */
    }
    .navbar { border-color: #2a2f37; }
    .panel { background: transparent; border-color: #2a2f37; }
    .panel-default>.panel-heading { background-color: #1a1f26; color: var(--color-muted); }

    .list-group {
        background: var(--surface-1);
        border: 1px solid var(--border-color); /* stronger than subtle for visibility */
        border-radius: 12px;
    }
    .list-group-item {
        background-color: transparent; /* remove persistent tint to avoid zebra-like perception */
        border-color: #2a2f37;
    }
    /* Dark mode: hairline gradient separator + container paddings */
    ul.list-group { --row-separator: rgba(255,255,255,0.07); padding-top: 12px; padding-bottom: 12px; padding-left: 24px; padding-right: 24px; }
    ul.list-group > li.list-group-item.title {
        border: 0;
        background-image: linear-gradient(to bottom, transparent calc(100% - 1px), var(--row-separator, var(--color-hr)) 0);
        background-size: 100% 100%;
        background-repeat: no-repeat;
    }
    /* Zebra disabled in dark mode */
    ul.list-group > li.list-group-item.title:nth-child(odd) { background-color: transparent; }
    /* Ensure dark hover stays dark-tinted */
    ul.list-group > li.list-group-item.title:hover { background-color: rgba(138,180,248,0.08); }
    li.title:hover {
        background-color: rgba(138,180,248,0.08); /* subtle blue tint on hover */
        box-shadow: none; /* remove blue inset shadow */
    }
    div.word-count { color: #8b8f98; }

    /* Navbar items */
    .navbar-default .navbar-nav > li > a:hover { background-color: rgba(255,255,255,0.06); }
    .navbar-default .navbar-nav > .active > a,
    .navbar-default .navbar-nav > .active > a:focus,
    .navbar-default .navbar-nav > .active > a:hover {
        color: var(--link-color);
        background: rgba(255, 255, 255, 0.10);
        border: 1px solid rgba(148, 163, 184, 0.20);
        -webkit-backdrop-filter: saturate(140%) blur(6px);
        backdrop-filter: saturate(140%) blur(6px);
        box-shadow: 0 1px 6px rgba(0, 0, 0, 0.18);
    }

    /* tags */
    ul.tags li span { color: #8b8f98; }
    ul.tags li a { color: var(--link-color); }
    ul.tags li a:hover { color: var(--link-hover); }
}

/* Manual theme override via data-theme */
html[data-theme="dark"] .navbar-default,
body[data-theme="dark"] .navbar-default { background-color: #1a1f26; box-shadow: none; border-color: #2a2f37; }
html[data-theme="dark"] .navbar,
body[data-theme="dark"] .navbar { border-color: #2a2f37; }
html[data-theme="dark"] .panel,
body[data-theme="dark"] .panel { background: transparent; border-color: #2a2f37; }
html[data-theme="dark"] .panel-default>.panel-heading,
body[data-theme="dark"] .panel-default>.panel-heading { background-color: #1a1f26; color: var(--color-muted); }
html[data-theme="dark"] .list-group,
body[data-theme="dark"] .list-group { background: var(--surface-1); border: 1px solid var(--border-color); border-radius: 12px; }
html[data-theme="dark"] .list-group-item,
body[data-theme="dark"] .list-group-item { background-color: transparent; border-color: #2a2f37; }
/* Manual dark override: hairline gradient separator + container paddings */
html[data-theme="dark"] ul.list-group { --row-separator: rgba(255,255,255,0.07); padding-top: 12px; padding-bottom: 12px; padding-left: 24px; padding-right: 24px; }
html[data-theme="dark"] ul.list-group > li.list-group-item.title,
body[data-theme="dark"] ul.list-group > li.list-group-item.title {
    border: 0;
    background-image: linear-gradient(to bottom, transparent calc(100% - 1px), var(--row-separator, var(--color-hr)) 0);
    background-size: 100% 100%;
    background-repeat: no-repeat;
}

/* Manual dark hover */
html[data-theme="dark"] ul.list-group > li.list-group-item.title:hover,
body[data-theme="dark"] ul.list-group > li.list-group-item.title:hover { background-color: rgba(138,180,248,0.08); }

/* Ensure hover overrides zebra tint, and slightly soften hover color */
/* Ensure light hover does not override dark hover */
@media (prefers-color-scheme: light) {
    ul.list-group > li.list-group-item.title:hover { background-color: #f6f9ff; }
}
html[data-theme="light"] ul.list-group > li.list-group-item.title:hover,
body[data-theme="light"] ul.list-group > li.list-group-item.title:hover { background-color: #f6f9ff; }
html[data-theme="dark"] li.title:hover,
body[data-theme="dark"] li.title:hover { background-color: rgba(138,180,248,0.08); box-shadow: none; }
html[data-theme="dark"] div.word-count,
body[data-theme="dark"] div.word-count { color: #8b8f98; }
html[data-theme="dark"] .navbar-default .navbar-nav > li > a:hover,
body[data-theme="dark"] .navbar-default .navbar-nav > li > a:hover { background-color: rgba(255,255,255,0.06); }
html[data-theme="dark"] .navbar-default .navbar-nav > .active > a,
html[data-theme="dark"] .navbar-default .navbar-nav > .active > a:focus,
html[data-theme="dark"] .navbar-default .navbar-nav > .active > a:hover,
body[data-theme="dark"] .navbar-default .navbar-nav > .active > a,
body[data-theme="dark"] .navbar-default .navbar-nav > .active > a:focus,
body[data-theme="dark"] .navbar-default .navbar-nav > .active > a:hover {
    color: var(--link-color);
    background: rgba(255, 255, 255, 0.10);
    border: 1px solid rgba(148, 163, 184, 0.20);
    -webkit-backdrop-filter: saturate(140%) blur(6px);
    backdrop-filter: saturate(140%) blur(6px);
    box-shadow: 0 1px 6px rgba(0, 0, 0, 0.18);
}
html[data-theme="dark"] ul.tags li span,
body[data-theme="dark"] ul.tags li span { color: #8b8f98; }
html[data-theme="dark"] ul.tags li a,
body[data-theme="dark"] ul.tags li a { color: var(--link-color); }
html[data-theme="dark"] ul.tags li a:hover,
body[data-theme="dark"] ul.tags li a:hover { color: var(--link-hover); }

/* Zebra stripes are disabled globally (see rules above). */

/* Final mobile overrides: ensure borders are removed on small screens */
@media screen and (max-width: 860px) {
    div.inner,
    div.inner-narrow { border: 0; background: var(--surface-1); box-shadow: none; }
    div.inner .box { border: 0; }
    div.inner { margin: 0; }
}

/* Light theme only: re-add a gentle border for clearer edge definition on phones */
@media screen and (max-width: 860px) and (prefers-color-scheme: light) {
    div.inner,
    div.inner-narrow { border: 1px solid var(--border-color-subtle); }
}
@media screen and (max-width: 860px) {
    html[data-theme="light"] div.inner,
    body[data-theme="light"] div.inner,
    html[data-theme="light"] div.inner-narrow,
    body[data-theme="light"] div.inner-narrow { border: 1px solid var(--border-color-subtle); }
}